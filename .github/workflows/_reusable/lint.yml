name: Reusable - Lint (Python)
on: workflow_call
jobs:
  lint:
    runs-on: ubuntu-24.04
    steps:
      - uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683
      - name: Setup uv
        uses: astral-sh/setup-uv@208b0c0ee42039b2cbf5fd3ca0ec7d6d8a49336f
      # Caching optional; uv is fast and deterministic. Enable later with pinned SHAs per policy.
      - name: Sync (frozen)
        run: uv sync --frozen
      - name: Ruff format (check)
        run: uv run ruff format --check .
      - name: Ruff check
        run: uv run ruff check .
      - name: Pyright (if configured)
        run: |
          if uv run pyright --version >/dev/null 2>&1; then uv run pyright --warnings; else echo "pyright not configured"; fi
